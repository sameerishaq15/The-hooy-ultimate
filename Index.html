<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>THE HOOY BEAST</title>
    <script src="https://unpkg.com/fabric@5.3.0/dist/fabric.min.js"></script>
    <style>
        :root { --neon: #00f2ff; --premium: #ffd700; --dark: #050505; }
        body { margin: 0; background: var(--dark); color: white; font-family: 'Inter', sans-serif; height: 100vh; display: flex; flex-direction: column; overflow: hidden; }
        
        /* Glassmorphism Header */
        header { padding: 15px 20px; background: rgba(0,0,0,0.9); border-bottom: 1px solid #333; display: flex; justify-content: space-between; align-items: center; z-index: 100; }
        .logo { font-weight: 900; color: var(--neon); text-shadow: 0 0 10px var(--neon); font-size: 16px; }
        .badge { background: var(--premium); color: #000; font-size: 10px; padding: 2px 6px; border-radius: 4px; margin-left: 5px; vertical-align: middle; }

        /* Beast Toolbar (Scrollable) */
        .beast-tools { background: #111; display: flex; overflow-x: auto; padding: 12px; gap: 15px; border-bottom: 1px solid #222; }
        .beast-tools::-webkit-scrollbar { display: none; }
        .t-btn { min-width: 65px; text-align: center; color: #eee; font-size: 10px; cursor: pointer; }
        .t-btn span { display: block; font-size: 22px; margin-bottom: 4px; }
        .t-btn:active { color: var(--neon); }

        /* Canvas Area */
        .canvas-viewport { flex: 1; display: flex; align-items: center; justify-content: center; background: radial-gradient(circle, #1a1a1a 0%, #000 100%); overflow: auto; }
        .canvas-wrap { box-shadow: 0 25px 50px -12px rgba(0, 0, 0, 0.5); }

        /* Floating Pro Settings */
        .pro-options { position: absolute; left: 15px; top: 150px; display: flex; flex-direction: column; gap: 20px; }
        .p-btn { width: 45px; height: 45px; background: rgba(20,20,20,0.8); border: 1px solid #444; border-radius: 12px; color: #fff; display: flex; align-items: center; justify-content: center; backdrop-filter: blur(5px); }

        /* 4K Export Panel */
        .export-btn { background: linear-gradient(45deg, var(--neon), #0066ff); color: #000; border: none; padding: 10px 20px; border-radius: 8px; font-weight: bold; font-size: 12px; }
    </style>
</head>
<body>

<header>
    <div class="logo">THE HOOY<span class="badge">ULTIMATE 4K</span></div>
    <button class="export-btn" onclick="export4K()">EXPORT 4K</button>
</header>

<div class="beast-tools">
    <label class="t-btn"><span>üñºÔ∏è</span>Photo<input type="file" id="u" style="display:none"></label>
    <div class="t-btn" onclick="addT()"><span>‚úçÔ∏è</span>Text</div>
    <div class="t-btn" onclick="applyF('sepia')"><span>üçÇ</span>Sepia</div>
    <div class="t-btn" onclick="applyF('grayscale')"><span>üåì</span>B&W</div>
    <div class="t-btn" onclick="applyF('invert')"><span>üåà</span>Invert</div>
    <div class="t-btn" onclick="applyF('blur')"><span>üíß</span>Blur</div>
    <div class="t-btn" onclick="cutOut()"><span>‚úÇÔ∏è</span>Cutout</div>
</div>

<div class="canvas-viewport">
    <div class="pro-options">
        <input type="color" id="c" style="width:45px;height:45px;border:none;">
        <div class="p-btn" onclick="del()">üóëÔ∏è</div>
    </div>
    <div class="canvas-wrap">
        <canvas id="mainC"></canvas>
    </div>
</div>

<script>
    const canvas = new fabric.Canvas('mainC', {
        width: window.innerWidth - 40,
        height: 450,
        backgroundColor: '#fff',
        preserveObjectStacking: true
    });

    // 1. Photo Upload
    document.getElementById('u').onchange = (e) => {
        const r = new FileReader();
        r.onload = (f) => {
            fabric.Image.fromURL(f.target.result, (img) => {
                img.scaleToWidth(canvas.width);
                canvas.add(img);
                canvas.setActiveObject(img);
            }, { crossOrigin: 'anonymous' });
        };
        r.readAsDataURL(e.target.files[0]);
    };

    // 2. Beast Filters
    function applyF(type) {
        const obj = canvas.getActiveObject();
        if(!obj || obj.type !== 'image') return alert("Pehle photo select karein!");
        
        let filter;
        if(type === 'sepia') filter = new fabric.Image.filters.Sepia();
        if(type === 'grayscale') filter = new fabric.Image.filters.Grayscale();
        if(type === 'invert') filter = new fabric.Image.filters.Invert();
        if(type === 'blur') filter = new fabric.Image.filters.Blur({blur: 0.5});
        
        obj.filters.push(filter);
        obj.applyFilters();
        canvas.renderAll();
    }

    // 3. Cutout (Simple Background Remove Logic)
    function cutOut() {
        const obj = canvas.getActiveObject();
        if(!obj) return alert("Select an object to cutout!");
        obj.set('globalCompositeOperation', 'destination-in');
        canvas.renderAll();
        alert("Cutout Mode: Use eraser brush to remove areas.");
    }

    // 4. 4K Export (High Res Hack)
    function export4K() {
        alert("Processing 4K Resolution... Please wait.");
        const dataURL = canvas.toDataURL({
            format: 'png',
            multiplier: 4, // Enhances quality 4 times (4K Feel)
            quality: 1
        });
        const link = document.createElement('a');
        link.download = 'Hooy_4K_Ultra.png';
        link.href = dataURL;
        link.click();
    }

    function addT() { canvas.add(new fabric.IText('Hooy Pro', { left: 50, top: 50, fill: document.getElementById('c').value })); }
    function del() { canvas.remove(canvas.getActiveObject()); }
</script>
</body>
</html>
